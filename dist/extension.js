(()=>{"use strict";var t={528:function(t,e,n){var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.reloadWindow=s,e.enabledRestart=function(){i.window.showInformationMessage(c.TIPS.enableText,{title:c.TIPS.restartText}).then(s)},e.unInstallSuccess=function(){i.window.showInformationMessage(c.TIPS.enableText,{title:c.TIPS.restartText}).then(s)},e.createHighAnimLevel=function(){const{animLevel:t}=l();return`${c.ANIM_LEVEL[t]}`},e.resetEasyAnimCodeConfig=function(){const t=i.workspace.getConfiguration("easy-anim-code");t.update(c.EXTENSION_CONFIG.PrimaryColor.key,c.EXTENSION_CONFIG.PrimaryColor.default,!0),t.update(c.EXTENSION_CONFIG.AnimLevel.key,c.EXTENSION_CONFIG.AnimLevel.default,!0)},e.showIsBackUpNotification=function(){i.window.showInformationMessage(c.TIPS.enableText,{title:c.TIPS.isBackUpText})},e.createRootValStyleTemplate=function(){const{primaryColor:t}=l();return`\n        :root {\n            --vscode-style-easy-anim-red-color: ${t};\n        }\n    `};const i=a(n(398)),c=n(133);function s(){i.commands.executeCommand("workbench.action.reloadWindow")}function l(){const t=i.workspace.getConfiguration("easy-anim-code");return{primaryColor:t.get(c.EXTENSION_CONFIG.PrimaryColor.key),animLevel:t.get(c.EXTENSION_CONFIG.AnimLevel.key)}}},133:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.WORKBENCH_APC_EXTENSION_HTML_TEMPLATE=e.WORKBENCH_HTML_TEMPLATE=e.BACKUP_FILE_SUFFIX=e.EXTENSION_CONFIG=e.PRIMARY_FILE=e.ANIM_LEVEL=e.COMMANDS=e.TIPS=void 0,e.TIPS={enableText:"来自easy-anim-code的提示",restartText:"restart",isBackUpText:"插件已执行过，本次中止执行",errorText:"执行出现异常"},e.COMMANDS={enable:"easy-anim-code.enable",disable:"easy-anim-code.disable",reset:"easy-anim-code.reset"};const n="easy-anim-code-backup-";e.BACKUP_FILE_SUFFIX=n;const r={workbench:"workbench.html",workbenchApcExtension:"workbench-apc-extension.html",backupWorkbench:n+"workbench.html",backupWorkbenchApcExtension:n+"workbench-apc-extension.html"};e.PRIMARY_FILE=r,e.EXTENSION_CONFIG={PrimaryColor:{key:"PrimaryColor",default:"#2aaaff"},AnimLevel:{key:"AnimLevel",default:"low"}};e.ANIM_LEVEL={low:"",high:".part.sidebar.pane-composite-part {\n\t     .pane-body {\n            .monaco-list-row {\n                .monaco-tl-row {\n                    .monaco-tl-twistie {\n                        transition: width 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n                    }\n                    animation: easy-anim-opacity-animation-low-opacity 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n                }\n            }\n\n            .monaco-tree-sticky-container {\n                .monaco-tl-row {\n                    animation: none;\n                }\n            }\n        }\n\t\t}"},e.WORKBENCH_HTML_TEMPLATE="\x3c!-- Copyright (C) Microsoft Corporation. All rights reserved. --\x3e\n<!DOCTYPE html>\n<html>\n\n<head>\n\t<meta charset=\"utf-8\" />\n\t<meta http-equiv=\"Content-Security-Policy\" content=\"\n\t\t\t\tdefault-src\n\t\t\t\t\t'none'\n\t\t\t\t;\n\t\t\t\timg-src\n\t\t\t\t\t'self'\n\t\t\t\t\tdata:\n\t\t\t\t\tblob:\n\t\t\t\t\tvscode-remote-resource:\n\t\t\t\t\tvscode-managed-remote-resource:\n\t\t\t\t\thttps:\n\t\t\t\t;\n\t\t\t\tmedia-src\n\t\t\t\t\t'self'\n\t\t\t\t;\n\t\t\t\tframe-src\n\t\t\t\t\t'self'\n\t\t\t\t\tvscode-webview:\n\t\t\t\t;\n\t\t\t\tscript-src\n\t\t\t\t\t'self'\n\t\t\t\t\t'unsafe-eval'\n\t\t\t\t\tblob:\n\t\t\t\t;\n\t\t\t\tstyle-src\n\t\t\t\t\t'self'\n\t\t\t\t\t'unsafe-inline'\n\t\t\t\t;\n\t\t\t\tconnect-src\n\t\t\t\t\t'self'\n\t\t\t\t\thttps:\n\t\t\t\t\tws:\n\t\t\t\t;\n\t\t\t\tfont-src\n\t\t\t\t\t'self'\n\t\t\t\t\tvscode-remote-resource:\n\t\t\t\t\tvscode-managed-remote-resource:\n\t\t\t\t\thttps://*.vscode-unpkg.net\n\t\t\t\t;\n\t\t\t\trequire-trusted-types-for\n\t\t\t\t\t'script'\n\t\t\t\t;\n\t\t\t\ttrusted-types\n\t\t\t\t\tamdLoader\n\t\t\t\t\tcellRendererEditorText\n\t\t\t\t\tdefaultWorkerFactory\n\t\t\t\t\tdiffEditorWidget\n\t\t\t\t\tdiffReview\n\t\t\t\t\tdomLineBreaksComputer\n\t\t\t\t\tdompurify\n\t\t\t\t\teditorGhostText\n\t\t\t\t\teditorViewLayer\n\t\t\t\t\tnotebookRenderer\n\t\t\t\t\tstickyScrollViewLayer\n\t\t\t\t\ttokenizeToString\n\t\t\t\t;\n\t\t\" />\n\n</head>\n\n<body aria-label=\"\"></body>\n\x3c!-- Startup (do not modify order of script tags !) --\x3e\n<script src=\"workbench.js\"><\/script>\n\n</html>",e.WORKBENCH_APC_EXTENSION_HTML_TEMPLATE='<!DOCTYPE html>\n<html>\n\n<head>\n  <meta charset="utf-8" />\n\n</head>\n\n<body aria-label=""></body>\n\x3c!-- Startup (do not modify order of script tags!) --\x3e\n<script src="../../../patch/browser.main.js"><\/script>\n<script src="workbench.js"><\/script>\n\n</html>'},265:function(t,e,n){var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.activate=function(t){const e=i.commands.registerCommand(l.COMMANDS.enable,(async()=>{try{const t=await(0,s.getEasyAnimCodeExtensionsCss)(),{workbenchText:e,workbenchApcExtensionText:n}=await(0,s.getVSCodeWorkbenchFolderPath)(),r=(0,s.getResultHtml)(e,t),o=(0,s.getResultHtml)(n,t),a=await(0,s.backupWorkbench)(),i=await(0,s.backupWorkbenchApcExtension)();a&&i?(await(0,s.writeFile)((0,s.getPrimaryFilePath)(l.PRIMARY_FILE.workbench),r),await(0,s.writeFile)((0,s.getPrimaryFilePath)(l.PRIMARY_FILE.workbenchApcExtension),o),(0,c.enabledRestart)()):(0,c.showIsBackUpNotification)()}catch(t){i.window.showErrorMessage(l.TIPS.errorText)}})),n=i.commands.registerCommand(l.COMMANDS.disable,(async()=>{try{const{backupWorkbenchText:t,backupWorkbenchApcExtensionText:e}=await(0,s.getBackupWorkbenchFile)();await(0,s.writeFile)((0,s.getPrimaryFilePath)(l.PRIMARY_FILE.workbench),t),await(0,s.writeFile)((0,s.getPrimaryFilePath)(l.PRIMARY_FILE.workbenchApcExtension),e),await(0,s.removeBackUpWorkBenchFile)(),await(0,s.removeBackUpWorkBenchApcExtensionFile)(),(0,c.resetEasyAnimCodeConfig)(),(0,c.enabledRestart)()}catch(t){i.window.showErrorMessage(l.TIPS.errorText)}})),r=i.commands.registerCommand(l.COMMANDS.reset,(async()=>{try{await(0,s.writeFile)((0,s.getPrimaryFilePath)(l.PRIMARY_FILE.workbench),l.WORKBENCH_HTML_TEMPLATE),await(0,s.writeFile)((0,s.getPrimaryFilePath)(l.PRIMARY_FILE.workbenchApcExtension),l.WORKBENCH_APC_EXTENSION_HTML_TEMPLATE),(0,s.removeBackUpWorkBenchFile)(),(0,s.removeBackUpWorkBenchApcExtensionFile)(),(0,c.resetEasyAnimCodeConfig)(),(0,c.unInstallSuccess)()}catch(t){i.window.showErrorMessage(l.TIPS.errorText)}}));t.subscriptions.push(e),t.subscriptions.push(n),t.subscriptions.push(r)},e.deactivate=function(){};const i=a(n(398)),c=n(528),s=n(239),l=n(133)},239:function(t,e,n){var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.writeFile=async function(t,e){return await s.writeFile(t,e,"utf8").catch((t=>{c.window.showErrorMessage(t)})),!0},e.getResultHtml=function(t,e){const n=(0,u.createRootValStyleTemplate)(),r=(0,u.createHighAnimLevel)();return t?.replace(/(<\/head>)/,`\n<style>${n} ${e} ${r}</style>\n</head>`)},e.backupWorkbench=async function(){const t=d(l.PRIMARY_FILE.workbench),e=d(l.PRIMARY_FILE.backupWorkbench);return!await h(e)&&(p(t,e),!0)},e.getPrimaryFilePath=d,e.getBackupWorkbenchFile=async function(){const t=d(l.PRIMARY_FILE.backupWorkbench),e=d(l.PRIMARY_FILE.backupWorkbenchApcExtension);return{backupWorkbenchText:await s.readFile(t,"utf8").catch((t=>{c.window.showErrorMessage(t)})),backupWorkbenchApcExtensionText:await s.readFile(e,"utf8").catch((t=>{c.window.showErrorMessage(t)}))}},e.removeBackUpWorkBenchFile=async function(){await s.unlink(d(l.PRIMARY_FILE.backupWorkbench)).catch((t=>{c.window.showErrorMessage(t)}))},e.backupWorkbenchApcExtension=async function(){const t=d(l.PRIMARY_FILE.workbenchApcExtension),e=d(l.PRIMARY_FILE.backupWorkbenchApcExtension);return!await h(e)&&(p(t,e),!0)},e.getEasyAnimCodeExtensionsCss=async function(){const t=__dirname+"/index.css";return await s.readFile(t,"utf8").catch((t=>{c.window.showErrorMessage(t)}))},e.getVSCodeWorkbenchFolderPath=async function(){const t=d(l.PRIMARY_FILE.workbench),e=d(l.PRIMARY_FILE.workbenchApcExtension);return{workbenchText:await s.readFile(t,"utf8").catch((t=>{c.window.showErrorMessage(t)})),workbenchApcExtensionText:await s.readFile(e,"utf8").catch((t=>{c.window.showErrorMessage(t)}))}},e.removeBackUpWorkBenchApcExtensionFile=async function(){await s.unlink(d(l.PRIMARY_FILE.backupWorkbenchApcExtension)).catch((t=>{c.window.showErrorMessage(t)}))};const i=a(n(928)),c=a(n(398)),s=a(n(943)),l=n(133),u=n(528);function d(t){const e=i.dirname(c.env.appRoot),n=i.join(e,"app","out","vs","code","electron-sandbox","workbench"),r={[l.PRIMARY_FILE.workbench]:l.PRIMARY_FILE.workbench,[l.PRIMARY_FILE.workbenchApcExtension]:l.PRIMARY_FILE.workbenchApcExtension,[l.PRIMARY_FILE.backupWorkbench]:l.PRIMARY_FILE.backupWorkbench,[l.PRIMARY_FILE.backupWorkbenchApcExtension]:l.PRIMARY_FILE.backupWorkbenchApcExtension};return r[t]?i.join(n,r[t]):n}async function h(t){try{return await s.access(t),!0}catch(t){return!1}}async function p(t,e){const n=await s.copyFile(t,e);n&&c.window.showErrorMessage(`备份文件失败: ${n}`)}},398:t=>{t.exports=require("vscode")},943:t=>{t.exports=require("fs/promises")},928:t=>{t.exports=require("path")}},e={},n=function n(r){var o=e[r];if(void 0!==o)return o.exports;var a=e[r]={exports:{}};return t[r].call(a.exports,a,a.exports,n),a.exports}(265);module.exports=n})();